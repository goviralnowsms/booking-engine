Checking Valid Inventory in Tourplan API
How to Check Inventory Availability
The Tourplan API does provide ways to check valid inventory for tours created in the Tourplan dashboard. Here's how it works:

Using OptionInfoRequest with Availability Parameters:

The main method to check inventory is using the OptionInfoRequest with specific parameters to request availability information
You need to include the Info parameter with the correct availability flags


Understanding Availability Flags:
The key is using the right flags in the Info parameter:

A - Basic availability information
I - Detailed availability (unit type specific)
E - Full availability (per day, per unit type)


Interpreting Availability Codes:
The API returns availability as integer values:

Values greater than 0: Number of units available (rooms for accommodation, pax for other services)
-1: Not available
-2: Available on free sell
-3: Available on request



Common Issues and Solutions
Based on your comment that "we can't find actual available dates in tourplan," there are a few potential issues:

Rate and Availability Distinction:

An important note from the documentation: "The availability returned only shows availability based on product inventory and/or whether the product is available on a request or freesell basis. It does NOT check or guarantee that there is also a valid rate for the dates searched for."
This means you might see inventory available, but without valid rates, which can cause confusion


Cache Issues:

By default, the API uses cached availability data
For more up-to-date availability, set <ACache>false</ACache> in your request
Note that this is slower but more accurate


Date Range Parameters:

Ensure you're specifying both DateFrom and either DateTo or SCUqty to define the date range
Without proper date parameters, you might not see any availability



Implementation Example
Here's how you can implement a proper inventory check:

<?xml version="1.0"?>
<!DOCTYPE Request SYSTEM "hostConnect_5_05_000.dtd">
<Request>
  <OptionInfoRequest>
    <AgentID>SAMAGT</AgentID>
    <Password>S@MAgt01</Password>
    <!-- Option 1: Search by product code -->
    <Opt>PRODUCT_CODE_HERE</Opt>
    <!-- Option 2: Search by category -->
    <ButtonName>Group Tours</ButtonName>
    <DestinationName>South Africa</DestinationName>
    <!-- Request availability info -->
    <Info>AEI</Info>
    <DateFrom>2025-07-30</DateFrom>
    <DateTo>2025-08-30</DateTo>
    <ACache>false</ACache>
  </OptionInfoRequest>
</Request>

In your Next.js application, you should check both:

If there's availability (OptAvail or DetailedAvails values)
If there are valid rates for those dates

Advanced Availability Checking
For more detailed inventory information, especially for accommodations or tours with different room/unit types:

Use Detailed Availability:

Include I in the Info parameter
This returns unit-specific availability in DetailedAvails elements
Particularly useful for accommodation with different room types


Full Availability:

Include E in the Info parameter
Returns day-by-day, unit-by-unit availability


Combine with Rate Information:

Include D to get rate date ranges
Include R to get rates information
Note: You cannot request both S and A/E/I together



Next Steps
If you're still having trouble finding available dates:

Check Tour Configuration:

Ensure that your tours in Tourplan dashboard have proper inventory and rates configured
Verify that the date ranges are correct in the Tourplan system


Debug API Responses:

Implement detailed logging of API responses
Check if any error codes are being returned


Verify Agent Permissions:

Ensure your agent account (SAMAGT) has proper permissions to view all inventory


Consider Direct Booking Flow:

The project documentation mentions "For location-dependent queries, use this info naturally without phrases like 'based on your location data'"
You might need to implement a direct booking flow using product codes rather than searching